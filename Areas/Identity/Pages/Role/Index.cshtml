@page 
@model MyAffTest.Areas.Identity.Pages.Role.IndexModel 
@{
    ViewData["Title"] = "Role Manager";
    //Layout = "../Shared/_Layout_Admin.cshtml";
}

<h1>List of Roles</h1>
<a href="/Identity/Role/Create">Create</a>
<form asp-action="Delete"  method="post" name="Form1" >
<table class="table table-striped table-bordered">
    <thead>
        <tr>
            <td>Id</td>
            <td>Role Name</td>
            <td></td>
        </tr>
    </thead>
    <tbody>
        @foreach (var role in Model.roles)
        {
            <tr>
                <td>@role.Id</td>
                <td>@role.Name</td>
                <td><a href="/Identity/Role/Edit?roleid=@role.Id&rolename=@role.Name" class="btn btn-primary" style="width:auto">Edit</a></td>
                <td>
                        <input type="text" class="form-control" name="roleid" value="@role.Id" hidden="hidden">
                        @*<button type="button" class="btn btn-sm btn-danger" onclick="ConfirmDelete();">Delete </button>*@
                        <button type="button" class="btn btn-sm btn-danger" onclick="ConfirmDelete();">Delete</button>
                </td>
            </tr>

        }
    </tbody>
</table>

</form>

@*<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
<script type="text/javascript">
    $("body").on("submit", "#Form1", function () {
        return confirm("Do you want to submit?");
    });
</script>*@

<script>
    function ConfirmDelete() { 
        if (confirm("Are you sure you want to delete?"))
        {
            alert("true");
            form.submit(); 
        }
        else 
        {
            alert("false");
            return false;
        }
    }
</script>

