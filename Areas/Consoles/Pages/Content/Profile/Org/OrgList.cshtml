@page "/OrgList"
@model Outreach.Areas.Consoles.Pages.Content.Profile.Org.OrganizationListModel
@{
    Layout = "/Areas/Identity/Pages/Shared/_Layout_RegisterOrg.cshtml";
}



<form method="post" id="Form1" name="Form1">

    <!-- Content Wrapper. Contains page content -->
    <div class="content-wrapper">
        <!-- Content Header (Page header) -->
        <section class="content-header">
            <div class="container-fluid">
                <div class="row mb-2">
                    <div class="col-sm-6">
                        <h1>Organization List</h1>
                    </div>
                    <div class="col-sm-6">
                        <ol class="breadcrumb float-sm-right">
                            <li class="breadcrumb-item"><a href="#">Home</a></li>
                            <li class="breadcrumb-item active">Organizations</li>
                        </ol>
                    </div>
                </div>
            </div><!-- /.container-fluid -->
        </section>

        <a class="btn btn-info btn-sm" asp-area="Consoles" asp-page="/Content/Tools/Organizations/RegisterOrganization/OrganizationsEditLight">
            <i class="fas fa-pencil-alt"></i>
            Create
        </a>

        <!-- Main content -->
        <section class="content">

            <!-- Default box -->
            <div class="card">
                <div class="card-header">
                    <h3 class="card-title">Organization/Organization</h3>

                    <div class="card-tools">
                        <button type="button" class="btn btn-tool" data-card-widget="collapse" title="Collapse">
                            <i class="fas fa-minus"></i>
                        </button>
                        <button type="button" class="btn btn-tool" data-card-widget="remove" title="Remove">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                </div>
                <div class="card-body p-0">
                    <table class="table table-striped Organizations">
                        <thead>
                            <tr> 
                                <th style="width: 20%">
                                    Name
                                </th>
                                <th style="width: 30%">
                                    Web URL
                                </th>
                                <th style="width: 30%">
                                    General Email
                                </th>
                                <th style="width: 30%">
                                    Phone
                                </th>
                                <th style="width: 30%">
                                    Primary Contactor Email
                                </th>
                                <th style="width: 8%" class="text-center">
                                    Address
                                </th>
                                <th style="width: 8%" class="text-center">
                                    Status
                                </th>
                                <th style="width: 20%">
                                </th>
                            </tr>
                        </thead>
                        <tbody>

                            @foreach (var org in Model.OrganizationList)
                            {

                                <tr> 
                                    <td>
                                        @org.Name
                                        <br />
                                        <small>&nbssp;
                                            Logo
                                        </small>
                                    </td>
@*                                    <td>
                                        <ul class="list-inline">
                                            <li class="list-inline-item">
                                                <img alt="Avatar" class="table-avatar" src="../../dist/img/avatar.png">
                                            </li>
                                            <li class="list-inline-item">
                                                <img alt="Avatar" class="table-avatar" src="../../dist/img/avatar2.png">
                                            </li>
                                            <li class="list-inline-item">
                                                <img alt="Avatar" class="table-avatar" src="../../dist/img/avatar3.png">
                                            </li>
                                            <li class="list-inline-item">
                                                <img alt="Avatar" class="table-avatar" src="../../dist/img/avatar4.png">
                                            </li>
                                        </ul>
                                    </td>*@
                                    
                                    <td class="Organization-actions text-right">
                                        @org.WebURL
                                    </td>
                                    <td class="Organization-actions text-right">
                                        @org.Email
                                    </td>
                                    <td class="Organization-actions text-right">
                                        @org.Phone
                                    </td>
                                    <td class="Organization-actions text-right">
                                        @org.PrimaryContactUser.Email
                                    </td>
                                    <td class="Organization-actions text-right">
                                        @org.Address
                                    </td>
                                    <td class="Organization-actions text-right">
                                        @org.WebURL
                                    </td>
                                    <td class="Organization-actions text-right">
                                        @org.Status
                                    </td>

                                    <td class="Organization-actions text-right">
                                        <a class="btn btn-info btn-sm" asp-area="Consoles" asp-page="RegisterOrganization" asp-route-OrganizationId="@org.Id">
                                            <i class="fas fa-pencil-alt">
                                            </i>
                                            Edit
                                        </a>
                                        <a class="btn btn-danger btn-sm" onclick="ConfirmDelete('@org.Id');" href="#">
                                            <i class="fas fa-trash"></i>
                                            Delete
                                        </a>

                                    </td>
                                </tr>


                                <input type="hidden" id="hid_DeleteOrganizationid" name="hid_DeleteOrganizationid" value="">

                            }



                        </tbody>
                    </table>
                </div>
                <!-- /.card-body -->
            </div>
            <!-- /.card -->

        </section>
        <!-- /.content -->
    </div>
    <!-- /.content-wrapper -->

</form>

<script>
    function ConfirmDelete(id) {
        if (confirm("Are you sure you want to delete?")) {
            //alert(id);
            document.getElementById("hid_DeleteOrganizationid").value = id;
            //alert(document.getElementById("hid_DeleteOrganizationid").value);
            document.Form1.submit();

        }
        else {
            //alert("false");
            return false;
        }
    }
</script>

